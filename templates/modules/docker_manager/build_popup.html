<!-- Build Image Popup -->
<div class="modal-overlay" id="buildModal">
    <div class="modal-content build-modal">
        <div class="modal-header">
            <h3>
                <i class="fas fa-hammer"></i>
                Build Image
            </h3>
            <button class="close-btn" onclick="closeBuildModal()">&times;</button>
        </div>
        <div class="modal-body">
            <form id="buildForm">
                <div class="form-group">
                    <label for="buildDockerfile">Dockerfile Path:</label>
                    <input type="text" id="buildDockerfile" placeholder="e.g., ./Dockerfile" required>
                    <small class="form-help">Path to your Dockerfile</small>
                </div>
                
                <div class="form-group">
                    <label for="buildImageName">Image Name:</label>
                    <input type="text" id="buildImageName" placeholder="e.g., myapp:latest" required>
                    <small class="form-help">Name and tag for your image</small>
                </div>
                
                <div class="form-group">
                    <label for="buildContext">Build Context:</label>
                    <input type="text" id="buildContext" placeholder="e.g., ." value=".">
                    <small class="form-help">Build context directory (default: current directory)</small>
                </div>
                
                <div class="form-group">
                    <label for="buildArgs">Build Arguments:</label>
                    <textarea id="buildArgs" placeholder="Enter build arguments (one per line)&#10;e.g.,&#10;VERSION=1.0&#10;ENV=production"></textarea>
                    <small class="form-help">Build arguments in KEY=VALUE format</small>
                </div>
                
                <div class="form-group">
                    <label for="buildOptions">Build Options:</label>
                    <div class="checkbox-group">
                        <label class="checkbox-label">
                            <input type="checkbox" id="buildNoCache" name="buildOptions" value="no-cache">
                            <span class="checkmark"></span>
                            No cache
                        </label>
                        <label class="checkbox-label">
                            <input type="checkbox" id="buildPull" name="buildOptions" value="pull">
                            <span class="checkmark"></span>
                            Always pull base images
                        </label>
                        <label class="checkbox-label">
                            <input type="checkbox" id="buildSquash" name="buildOptions" value="squash">
                            <span class="checkmark"></span>
                            Squash layers
                        </label>
                    </div>
                </div>
            </form>
        </div>
        <div class="modal-footer">
            <button type="button" class="btn btn-secondary" onclick="closeBuildModal()">Cancel</button>
            <button type="button" class="btn btn-primary" onclick="startBuild()">
                <i class="fas fa-hammer"></i>
                Start Build
            </button>
        </div>
    </div>
</div>

<!-- Build Progress Modal -->
<div class="modal-overlay" id="buildProgressModal">
    <div class="modal-content progress-modal">
        <div class="modal-header">
            <h3>
                <i class="fas fa-cog fa-spin"></i>
                Building Image
            </h3>
        </div>
        <div class="modal-body">
            <div class="progress-container">
                <div class="progress-bar">
                    <div class="progress-fill" id="buildProgress"></div>
                </div>
                <div class="progress-text" id="buildProgressText">Preparing build...</div>
            </div>
            <div class="build-logs" id="buildLogs">
                <div class="log-line">Starting build process...</div>
            </div>
        </div>
        <div class="modal-footer">
            <button type="button" class="btn btn-danger" onclick="cancelBuild()">
                <i class="fas fa-times"></i>
                Cancel Build
            </button>
        </div>
    </div>
</div>
